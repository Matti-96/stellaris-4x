####################
# Event-Given Ones #
####################

utility_component_template = {
	key = "ENIGMATIC_ENCODER"
	size = aux
	icon = "GFX_ship_part_enigmatic_encoder"
	icon_frame = 1
	power = -20
	resources = {
		category = ship_components
		cost = {
			alloys = 20
		}
	}

	prerequisites = { tech_enigmatic_encoder }
	component_set = "ENIGMATIC_ENCODER"

	ship_modifier = {
		ship_disengage_opportunities_add = 1
		ship_evasion_add = 5 # Europe: added +5 evasion for Enigmatic Encoder (because +1 Disengagement Chance is added to all cloaking devices)
	}

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0 # Don't use this if you might use No Retreat.
			OR = {
				has_ethic = ethic_militarist
				has_ethic = ethic_fanatic_militarist
				has_ethic = ethic_gestalt_consciousness
				has_civic = civic_fanatic_purifiers
			}
		}
	}
}

utility_component_template = {
	key = "ORBITAL_TRASH_1"
	size = aux
	icon = "GFX_ship_part_orbital_trash_dispersal"
	icon_frame = 1
	power = -10
	resources = {
		category = ship_components
		cost = {
			alloys = 10
		}
	}

	ship_modifier = {
		ship_orbital_bombardment_mult = 0.5 # Europe: increased from 0.25
	}
	class_restriction = { shipclass_military }
	prerequisites = { "tech_orbital_trash_dispersal" }
	component_set = "ORBITAL_TRASH_1"

	ai_weight = {
		weight = 1
		modifier = {
			factor = 2.0
			has_policy_flag = orbital_bombardment_indiscriminate
		}
	}
}

####################
#   Afterburners   #
####################

utility_component_template = {
	key = "AFTERBURNER_1"
	size = aux
	icon = "GFX_ship_part_afterburner_1"
	icon_frame = 1
	power = -10
	resources = {
		category = ship_components
		cost = {
			alloys = 4
		}
	}
	ship_modifier = {
		ships_upkeep_mult = 0.04 # Europe: added to compensate for low alloy cost and to generally discourage use on larger ships
	}
	modifier = {
		ship_speed_mult = 0.1
		ship_interstellar_speed_mult = -0.09 # Europe: added to cancel out speed bonus when outside of combat
		ship_evasion_mult = 0.075 # Europe: increased from +5%
	}
	class_restriction = { shipclass_military }
	prerequisites = { "tech_afterburners_1" }
	component_set = "AFTERBURNER_1"
	upgrades_to = "AFTERBURNER_2"

	ai_weight = {
		weight = 10
		modifier = {
			factor = 2.0
			is_preferred_weapons = weapon_type_kinetic
		}
		modifier = {
			factor = 0.5
			is_preferred_weapons = weapon_type_explosive
		}
	}
}

utility_component_template = {
	key = "AFTERBURNER_2"
	size = aux
	icon = "GFX_ship_part_afterburner_2"
	icon_frame = 1
	power = -20
	resources = {
		category = ship_components
		cost = {
			alloys = 6
		}
	}
	ship_modifier = {
		ships_upkeep_mult = 0.06 # Europe: added to compensate for low alloy cost and to generally discourage use on larger ships
	}
	modifier = {
		ship_speed_mult = 0.2
		ship_interstellar_speed_mult = -0.16 # Europe: added to cancel out speed bonus when outside of combat
		ship_evasion_mult = 0.15 # Europe: increased from +10%
	}
	class_restriction = { shipclass_military }
	prerequisites = { "tech_afterburners_2" }
	component_set = "AFTERBURNER_2"

	ai_weight = {
		weight = 15
		modifier = {
			factor = 2.0
			is_preferred_weapons = weapon_type_kinetic
		}
		modifier = {
			factor = 0.5
			is_preferred_weapons = weapon_type_explosive
		}
	}
}


####################
# Reactor Booster #
####################

utility_component_template = {
	key = "REACTOR_BOOSTER_1"
	size = aux
	icon = "GFX_ship_part_reactor_booster_1"
	icon_frame = 1
	power = 40 # Europe: increased from 20
	resources = {
		category = ship_components
		cost = {
			alloys = 5
		}
	}

	prerequisites = { "tech_reactor_boosters_1" }
	component_set = "REACTOR_BOOSTER_1"
	upgrades_to = "REACTOR_BOOSTER_2"

	ai_weight = {
		weight = 1
	}
}

utility_component_template = {
	key = "REACTOR_BOOSTER_2"
	size = aux
	icon = "GFX_ship_part_reactor_booster_2"
	icon_frame = 1
	power = 90 # Europe: increased from 50
	resources = {
		category = ship_components
		cost = {
			alloys = 10
		}
	}

	prerequisites = { "tech_reactor_boosters_2" }
	component_set = "REACTOR_BOOSTER_2"
	upgrades_to = "REACTOR_BOOSTER_3"

	ai_weight = {
		weight = 3
	}
}

utility_component_template = {
	key = "REACTOR_BOOSTER_3"
	size = aux
	icon = "GFX_ship_part_reactor_booster_3"
	icon_frame = 1
	power = 150 # Europe: increased from 100
	resources = {
		category = ship_components
		cost = {
			alloys = 15
		}
	}

	prerequisites = { "tech_reactor_boosters_3" }
	component_set = "REACTOR_BOOSTER_3"

	ai_weight = {
		weight = 5
	}
}

############
# HARDENERS
############

utility_component_template = {
	key = "SHIELD_HARDENER_1"
	size = aux
	icon = "GFX_ship_part_shield_hardener_1"
	icon_frame = 1
	power = -15
	resources = {
		category = ship_components
		cost = {
			alloys = 10
			exotic_gases = 1
		}
	}

	prerequisites = { "tech_shield_hardeners_1" }
	component_set = "SHIELD_HARDENER_1"
	upgrades_to = "SHIELD_HARDENER_2"

	ship_modifier = {
		ship_shield_hardening_add = 0.15
	}
	ai_tags = { weapon_role_point_defense } # Europe: added to make AI know to use this to counter missiles and strike craft

	ai_weight = {
		weight = 10

		modifier = {
			factor = 0.0
			no_resource_for_component = { RESOURCE = exotic_gases }
		}
	}
}

utility_component_template = {
	key = "SHIELD_HARDENER_2"
	size = aux
	icon = "GFX_ship_part_shield_hardener_2"
	icon_frame = 1
	power = -25
	resources = {
		category = ship_components
		cost = {
			alloys = 30
			sr_zro = 1
		}
	}

	prerequisites = { "tech_shield_hardeners_2" }
	component_set = "SHIELD_HARDENER_2"

	ship_modifier = {
		ship_shield_hardening_add = 0.25
	}
	ai_tags = { weapon_role_point_defense } # Europe: added to make AI know to use this to counter missiles and strike craft

	ai_weight = {
		weight = 10

		modifier = {
			factor = 0.0
			no_resource_for_component = { RESOURCE = sr_zro }
		}
		modifier = {
			factor = 0.0
			is_ai = yes
		}
	}
}

####################
# Covenant Uniques #
####################

utility_component_template = {
	key = "COMPOSER_MARK"
	size = aux
	icon = "GFX_ship_part_composer_covenant_aux"
	icon_frame = 1
	power = -20
	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_zro = 2
		}
	}

	modifier = {
		ship_hull_regen_add_perc = 0.1
		ship_armor_regen_add_perc = 0.15
		ship_armor_hardening_add = 0.15 # Europe: added +15% Armor Hardening
	}

	prerequisites = { tech_covenant_composer }
	component_set = "COMPOSER_MARK"

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_resource = {
				type = sr_zro
				amount < 100
			}
		}
	}
}

utility_component_template = {
	key = "EATER_MARK"
	size = aux
	icon = "GFX_ship_part_eater_covenant_aux"
	icon_frame = 1
	power = -20
	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_zro = 2
		}
	}

	modifier = {
		ship_speed_mult = 0.20 # Europe: replaced +20% orbital bombardment
		ship_accuracy_add = 5
	}

	prerequisites = { tech_covenant_eater }
	component_set = "EATER_MARK"

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_resource = {
				type = sr_zro
				amount < 100
			}
		}
	}
}

utility_component_template = {
	key = "INSTRUMENT_MARK"
	size = aux
	icon = "GFX_ship_part_instrument_covenant_aux"
	icon_frame = 1
	power = 300 # Europe: increased from -20
	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_zro = 2
		}
	}

	# Europe: removed, replaced with extra power
	#modifier = {
	#	ship_speed_mult = 0.25
	#
	
	class_restriction = { shipclass_military }
	prerequisites = { tech_covenant_instrument }
	component_set = "INSTRUMENT_MARK"

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_resource = {
				type = sr_zro
				amount < 100
			}
		}
	}
}

utility_component_template = {
	key = "WHISPERERS_MARK"
	size = aux
	icon = "GFX_ship_part_whisperers_covenant_aux"
	icon_frame = 1
	power = -20
	resources = {
		category = ship_components
		cost = {
			alloys = 20
			sr_zro = 2
		}
	}

	modifier = {
		ship_evasion_mult = 0.15
		ship_disengage_opportunities_add = 1 # Europe: added +1 disengagement opportunities
		ship_sensor_range_add = 1 # Europe: added +1 sensor range
		ship_hyperlane_range_add = 1 # Europe: added +1 hyperlane range
		ship_disengage_chance_mult = 0.05 # Europe: added +5% ship disengagement chance
	}

	prerequisites = { tech_covenant_whisperers }
	component_set = "WHISPERERS_MARK"

	ai_weight = {
		weight = 10
		modifier = {
			factor = 0
			has_country_resource = {
				type = sr_zro
				amount < 100
			}
		}
	}
}
